(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{330:function(s,t,a){"use strict";a.r(t);var e=a(3),r=Object(e.a)({},(function(){var s=this,t=s._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h2",{attrs:{id:"视频地址"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#视频地址"}},[s._v("#")]),s._v(" "),t("a",{attrs:{href:"https://www.bilibili.com/video/BV1JY4y1V7hj/?spm_id_from=333.999.0.0&vd_source=62e2bbc859564f43d9cc06ff317aaa5e",target:"_blank",rel:"noopener noreferrer"}},[s._v("视频地址"),t("OutboundLink")],1)]),s._v(" "),t("h2",{attrs:{id:"安装虚拟机"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#安装虚拟机"}},[s._v("#")]),s._v(" 安装虚拟机")]),s._v(" "),t("p",[s._v("这里环境采用虚拟机安装，VMWare17 Pro、Ubuntu:20.04")]),s._v(" "),t("p",[s._v("环境设置为：")]),s._v(" "),t("ul",[t("li",[s._v("Ubuntu:20.04")]),s._v(" "),t("li",[s._v("Kubernetes:v1.24")]),s._v(" "),t("li",[s._v("Go:v1.9.13")]),s._v(" "),t("li",[s._v("8c8m 100g")])]),s._v(" "),t("p",[s._v("VMWare 和 Ubuntu 安装包虚、拟机镜像、安装过程掠过，默认虚拟机环境已经准备完毕")]),s._v(" "),t("h2",{attrs:{id:"虚拟机环境准备"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#虚拟机环境准备"}},[s._v("#")]),s._v(" 虚拟机环境准备")]),s._v(" "),t("h3",{attrs:{id:"_1-换源-可以直接去阿里或者清华源中心复制命令"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-换源-可以直接去阿里或者清华源中心复制命令"}},[s._v("#")]),s._v(" 1. 换源（可以直接去阿里或者清华源中心复制命令）")]),s._v(" "),t("p",[s._v("更换 apt 源为阿里源")]),s._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("mv")]),s._v(" /etc/apt/sources.list /etc/apt/sources.list.bak\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("vim")]),s._v(" /etc/apt/sources.list\n\ndeb http://mirrors.aliyun.com/ubuntu/ focal main restricted universe multiverse\ndeb-src http://mirrors.aliyun.com/ubuntu/ focal main restricted universe multiverse\ndeb http://mirrors.aliyun.com/ubuntu/ focal-security main restricted universe multiverse\ndeb-src http://mirrors.aliyun.com/ubuntu/ focal-security main restricted universe multiverse\ndeb http://mirrors.aliyun.com/ubuntu/ focal-updates main restricted universe multiverse\ndeb-src http://mirrors.aliyun.com/ubuntu/ focal-updates main restricted universe multiverse\ndeb http://mirrors.aliyun.com/ubuntu/ focal-proposed main restricted universe multiverse\ndeb-src http://mirrors.aliyun.com/ubuntu/ focal-proposed main restricted universe multiverse\ndeb http://mirrors.aliyun.com/ubuntu/ focal-backports main restricted universe multiverse\ndeb-src http://mirrors.aliyun.com/ubuntu/ focal-backports main restricted universe multiverse\n\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt-get")]),s._v(" update\n")])])]),t("h3",{attrs:{id:"_2-安装构建工具"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-安装构建工具"}},[s._v("#")]),s._v(" 2. 安装构建工具")]),s._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" build-essential\n")])])]),t("h3",{attrs:{id:"_3-安装-docker"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-安装-docker"}},[s._v("#")]),s._v(" 3. "),t("RouterLink",{attrs:{to:"/pages/aa442f/#linux"}},[s._v("安装 Docker")])],1),s._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("curl")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-sSL")]),s._v(" https://get.docker.com/ "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sh")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# or curl -sSL https://get.daocloud.io/docker | sh")]),s._v("\n")])])]),t("h3",{attrs:{id:"_4-修改-containerd-所用的镜像库地址"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-修改-containerd-所用的镜像库地址"}},[s._v("#")]),s._v(" 4. 修改 containerd 所用的镜像库地址")]),s._v(" "),t("p",[s._v("安装完 docker 默认就有 containerd")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("containerd config default > ~/config.toml\n")])])]),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("vim")]),s._v("  ~/config.toml\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 修改")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("plugins."),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"io.containerd.grpc.v1.cri"')]),s._v(".registry.mirrors"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("plugins."),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"io.containerd.grpc.v1.cri"')]),s._v(".registry.mirrors."),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"docker.io"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n          endpoint "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"https://hub-mirror.c.163.com"')]),s._v(", "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"https://registry-1.docker.io"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n\n")])])]),t("p",[s._v("重新复制回配置文件并启动 containerd")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("sudo mv ~/config.toml /etc/containerd/config.toml\nsudo systemctl restart containerd\n")])])]),t("h3",{attrs:{id:"_5-安装rsync"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_5-安装rsync"}},[s._v("#")]),s._v(" 5. 安装rsync")]),s._v(" "),t("h4",{attrs:{id:"_1-下载文件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-下载文件"}},[s._v("#")]),s._v(" 1. 下载文件")]),s._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("mkdir")]),s._v(" ~/software "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" software\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("wget")]),s._v(" https://github.com/WayneD/rsync/archive/refs/tags/v3.2.4.tar.gz\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("tar")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-xf")]),s._v(" v3.2.4.tar.gz\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" rsync-3.2.4\n")])])]),t("h4",{attrs:{id:"_2-安装编译工具"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-安装编译工具"}},[s._v("#")]),s._v(" 2. 安装编译工具")]),s._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-y")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n    gcc g++ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("gawk")]),s._v(" autoconf "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n    automake python3-cmarkgfm "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n    acl libacl1-dev "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n    attr libattr1-dev "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n    libxxhash-dev "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n    libzstd-dev "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n    liblz4-dev "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n    libssl-dev "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("vim")]),s._v("\n")])])]),t("h4",{attrs:{id:"_3-编译-安装"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-编译-安装"}},[s._v("#")]),s._v(" 3. 编译，安装")]),s._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[s._v("./configure\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("make")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("cp")]),s._v(" ./rsync /usr/local/bin/\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("cp")]),s._v(" ./rsync-ssl /usr/local/bin/\n")])])]),t("h3",{attrs:{id:"_6-安装辅助工具"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_6-安装辅助工具"}},[s._v("#")]),s._v(" 6. 安装辅助工具")]),s._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" jq "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-y")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" python3-pip "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-y")]),s._v("\npip "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" pyyaml\n")])])]),t("h3",{attrs:{id:"_7-安装-etcd"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_7-安装-etcd"}},[s._v("#")]),s._v(" 7. 安装 "),t("code",[s._v("etcd")])]),s._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("ETCD_VER")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("v3.5.4  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 设置 etcd 版本")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("curl")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-L")]),s._v(" https://storage.googleapis.com/etcd/"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${ETCD_VER}")]),s._v("/etcd-"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${ETCD_VER}")]),s._v("-linux-amd64.tar.gz "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-o")]),s._v(" /tmp/etcd-"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${ETCD_VER}")]),s._v("-linux-amd64.tar.gz\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("mkdir")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-p")]),s._v(" ~/software/etcd\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("tar")]),s._v(" xzvf /tmp/etcd-"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${ETCD_VER}")]),s._v("-linux-amd64.tar.gz "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-C")]),s._v(" ~/software/etcd --strip-components"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("rm")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-f")]),s._v(" /tmp/etcd-"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${ETCD_VER}")]),s._v("-linux-amd64.tar.gz\n")])])]),t("p",[s._v("配置环境变量")]),s._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("vim")]),s._v(" ~/.bashrc\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("export")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("PATH")])]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/home/'),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${"),t("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("USER")]),s._v("}")]),s._v("/software/etcd:"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${"),t("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("PATH")]),s._v("}")]),s._v('"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("source")]),s._v(" ~/.bashrc\n")])])]),t("h3",{attrs:{id:"_8-安装-golang-1-24及以上需要golang-1-18"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_8-安装-golang-1-24及以上需要golang-1-18"}},[s._v("#")]),s._v(" 8. 安装 "),t("code",[s._v("Golang")]),s._v("(1.24及以上需要golang 1.18)")]),s._v(" "),t("h4",{attrs:{id:"_1-下载-go-sdk"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-下载-go-sdk"}},[s._v("#")]),s._v(" 1. 下载 Go Sdk")]),s._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("wget")]),s._v(" https://golang.google.cn/dl/go1.18.2.linux-amd64.tar.gz\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("rm")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-rf")]),s._v(" /usr/local/go "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("tar")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-C")]),s._v(" /usr/local "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-xzf")]),s._v(" go1.18.2.linux-amd64.tar.gz\n")])])]),t("h4",{attrs:{id:"_2-配置环境变量"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-配置环境变量"}},[s._v("#")]),s._v(" 2. 配置环境变量")]),s._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("export")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("GOPATH")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/home/'),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${"),t("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("USER")]),s._v("}")]),s._v('/go"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("export")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("GOBIN")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/home/'),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${"),t("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("USER")]),s._v("}")]),s._v('/go/bin"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("export")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("PATH")])]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/usr/local/go/bin:'),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$GOPATH")]),s._v("/bin:"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${"),t("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("PATH")]),s._v("}")]),s._v('"')]),s._v("\n")])])]),t("h4",{attrs:{id:"_3-配置-go-代理"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-配置-go-代理"}},[s._v("#")]),s._v(" 3. 配置 GO 代理")]),s._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[s._v("go "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("env")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-w")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("GO111MODULE")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"on"')]),s._v("\ngo "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("env")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-w")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("GOPROXY")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"https://goproxy.cn,direct"')]),s._v("\n")])])]),t("h4",{attrs:{id:"_4-配置-etc-sudoers"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-配置-etc-sudoers"}},[s._v("#")]),s._v(" 4. 配置 /etc/sudoers")]),s._v(" "),t("p",[s._v("如果不加入 "),t("code",[s._v("/etc/sudoers")]),s._v(" 就会出现这个错误 https://github.com/kubernetes/kubernetes/issues/3184")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("sudo vim /etc/sudoers\n# secure_path 一行加入如下目录：\n/usr/local/go/bin:/home/<用户名>/etcd:/home/<用户名>/go/bin\n")])])]),t("h3",{attrs:{id:"_9-安装cfssl"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_9-安装cfssl"}},[s._v("#")]),s._v(" 9. 安装CFSSL")]),s._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[s._v("go "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" github.com/cloudflare/cfssl/cmd/"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".@latest\n")])])]),t("h2",{attrs:{id:"下载kubernetes代码"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#下载kubernetes代码"}},[s._v("#")]),s._v(" 下载kubernetes代码")]),s._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("mkdir")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-p")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$GOPATH")]),s._v("/src/k8s.io  "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$GOPATH")]),s._v("/src/k8s.io\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" clone https://github.com/kubernetes/kubernetes.git\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 加速连接")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" clone https://github.91chi.fun/https://github.com/kubernetes/kubernetes.git\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" checkout "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-b")]),s._v(" my-kube-1.24 v1.24.0\n")])])])])}),[],!1,null,null,null);t.default=r.exports}}]);